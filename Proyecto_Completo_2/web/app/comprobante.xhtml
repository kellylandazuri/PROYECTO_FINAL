<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
    </h:head>
    <h:body>
        <h1>Sistema de Facturaci√≥n</h1>
        <h:form>
            <p:panelGrid columns="2">
                <p:outputLabel for="fecha" value="Fecha" />
                <p:calendar id="fecha" value="#{comprobanteBean.fecha}" showOn="button" />
                <p:outputLabel for="observaciones" value="Observaciones" />
                <p:inputText id="observaciones" value="#{comprobanteBean.observaciones}"/>
            </p:panelGrid>
             <p:panelGrid columns="2">
                <p:outputLabel for="totalDebe" value="Total Debe" />
                <p:outputLabel id="totalDebe" value="debet" />
                 <p:outputLabel for="totalHaber" value="Total Haber" />
                <p:outputLabel id="totalHaber" value="haber" />
            </p:panelGrid>
            <p:panelGrid>
                <h2>Detalles</h2>
                <ui:repeat value="#{comprobanteBean.detalles}" var="d">
                    <p:panelGrid columns="3" >
                        <p:panelGrid columns="2">
                            <p:outputLabel for="codCuenta" value="Cuenta" />
                            <p:inputText id="codCuenta" value="#{d.codigoCuenta}"/>
                        </p:panelGrid>
                        <p:panelGrid columns="2">
                            <p:outputLabel for="cantDebe" value="Cantidad Debe" />
                            <p:inputText id="cantDebe" value="#{d.cantidadDebe}" />  
                        </p:panelGrid>
                        <p:panelGrid columns="2">
                            <p:outputLabel for="cantHaber" value="Cantidad Haber" />
                            <p:inputText id="cantHaber" value="#{d.cantidadHaber}" />  
                        </p:panelGrid>
                    </p:panelGrid>
                </ui:repeat>
                <p:commandButton value="Nuevo Detalle" id="btnNuevoDet" update="@form" action="#{comprobanteBean.nuevoDetalle()}" style="margin-right:20px;" styleClass="ui-priority-primary" />
            </p:panelGrid>
            <p:commandButton value="Guardar Factura" id="btnGuardar" update="@form" action="#{comprobanteBean.nuevoDetalle()}" style="margin-right:20px;" styleClass="ui-priority-primary" />
        </h:form>

    </h:body>
</html>